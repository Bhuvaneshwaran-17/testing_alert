name: Integrated Multi-Task Pipeline
on:
  push:
    branches: [ main ]
jobs:
  Task_1_Build_Monitor:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v4
      - name: Run Build
        run: echo "Simulating Build..."
  Task_2_Env_Check:
    runs-on: ubuntu-latest
    steps:
      - name: Check Secret
        run: |
          if [ -z "${{ secrets.MANDATORY_CONFIG_VAR }}" ]; then
            exit 1
          fi
  Task_3_Config_Check:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v4
      - name: Check appsettings.json
        run: |
          if [ ! -f appsettings.json ] || ! grep -q "DatabaseConnectionString" appsettings.json; then
            exit 1
          fi
